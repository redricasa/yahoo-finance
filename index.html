<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta main="viewpoint" content="with=device-width, initial-scale-1.0">
    <title>Yahoo Finance</title>
    <!-- use CDN for chart.js  -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    
    <!-- canvas tag to didsplay chart  -->
    <canvas id="myChart" width="800" height="400"></canvas>  
    <script src=".env.js"></script>
    <script src="chart.js"></script>
    <script src="api.js"></script>
    <!-- sending data to index.html from chart.js -->
    <script>
        getData("AAPL")
            .then((response)=>{
                console.log('RESPONSE-------------------- /n', response)
                chartIt({
                    "data":response.data.chart.result[0].indicators.quote[0],
                    "xlabels":response.data.chart.result[0].timestamp
                        .map(
                            timeStamp => new Date(timeStamp*1000).toDateString()
                        )
                })
            })
            .catch((error)=>{
                console.log('ERROR--------------------  /n', error)
            })
            // this has one of the timestamps returned from the API- has 10 digits
            console.log("date : ", new Date(1598984951).toUTCString());
            // this gets 13 digits
            console.log("milliseconds since jan 1st, 1970 : ", new Date().getTime());
    </script>
</body>
</html>